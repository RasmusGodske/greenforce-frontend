<!--
@license
Copyright 2021 Energinet DataHub A/S

Licensed under the Apache License, Version 2.0 (the "License2");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<ng-container *transloco="let t; read: 'meteringPoint.secondaryMasterData'">
  <watt-expansion
    [openLabel]="t('expansion.openLabel')"
    [closeLabel]="t('expansion.closeLabel')"
  >
    <div class="watt-text-l">
      {{ t('technicalSpecificationTitle') }}
    </div>
    <dl>
      <div
        class="smd-list__row"
        *dhShowForMeteringPointType="
          secondaryMasterData?.meteringPointType;
          property: 'netSettlementGroup'
        "
      >
        <dt class="watt-label">
          {{ t('netSettlementGroup') }}
        </dt>
        <dd class="watt-text-m">
          {{ netSettlementGroupAsNumber | dhEmDashFallback }}
        </dd>
      </div>
      <div
        class="smd-list__row"
        *dhShowForMeteringPointType="
          secondaryMasterData?.meteringPointType;
          property: 'disconnectionType'
        "
      >
        <dt class="watt-label">
          {{ t('disconnectionType') }}
        </dt>
        <dd class="watt-text-m" data-testid="disconnectionType">
          {{
            translationKeys?.disconnectionType | transloco | dhEmDashFallback
          }}
        </dd>
      </div>
      <div
        class="smd-list__row"
        *dhShowForMeteringPointType="
          secondaryMasterData?.meteringPointType;
          property: 'productionObligation'
        "
      >
        <dt class="watt-label">
          {{ t('productionObligation') }}
        </dt>
        <dd class="watt-text-m">
          {{
            secondaryMasterData?.productionObligation
              | dhYesNo
              | dhEmDashFallback
          }}
        </dd>
      </div>
      <div
        class="smd-list__row"
        *dhShowForMeteringPointType="
          secondaryMasterData?.meteringPointType;
          property: 'connectionType'
        "
      >
        <dt class="watt-label">
          {{ t('connectionType') }}
        </dt>
        <dd class="watt-text-m" data-testid="connectionType">
          {{ translationKeys?.connectionType | transloco | dhEmDashFallback }}
        </dd>
      </div>
      <div
        class="smd-list__row"
        *dhShowForMeteringPointType="
          secondaryMasterData?.meteringPointType;
          property: 'inAreaCode'
        "
      >
        <dt class="watt-label">
          {{ t('inAreaCode') }}
        </dt>
        <dd class="watt-text-m">
          {{ secondaryMasterData?.inAreaCode | dhEmDashFallback }}
        </dd>
      </div>
      <div
        class="smd-list__row"
        *dhShowForMeteringPointType="
          secondaryMasterData?.meteringPointType;
          property: 'outAreaCode'
        "
      >
        <dt class="watt-label">
          {{ t('outAreaCode') }}
        </dt>
        <dd class="watt-text-m">
          {{ secondaryMasterData?.outAreaCode | dhEmDashFallback }}
        </dd>
      </div>
      <div
        class="smd-list__row"
        *dhShowForMeteringPointType="
          secondaryMasterData?.meteringPointType;
          property: 'meteringGridArea'
        "
      >
        <dt class="watt-label">
          {{ t('gridAreaName') }}
        </dt>
        <dd class="watt-text-m">
          {{ secondaryMasterData?.gridAreaName | dhEmDashFallback }} ({{
            secondaryMasterData?.gridAreaCode | dhEmDashFallback
          }})
        </dd>
      </div>
      <div
        class="smd-list__row"
        *dhShowForMeteringPointType="
          secondaryMasterData?.meteringPointType;
          property: 'capacity'
        "
      >
        <dt class="watt-label">
          {{ t('capacity') }}
        </dt>
        <dd class="watt-text-m">
          {{
            translationKeys?.capacityFormatted
              | transloco: { capacity: secondaryMasterData?.capacity }
              | dhEmDashFallback
          }}
        </dd>
      </div>
      <div
        class="smd-list__row"
        *dhShowForMeteringPointType="
          secondaryMasterData?.meteringPointType;
          property: 'assetType'
        "
      >
        <dt class="watt-label">
          {{ t('assetType') }}
        </dt>
        <dd class="watt-text-m" data-testid="assetType">
          {{ translationKeys?.assetType | transloco | dhEmDashFallback }}
        </dd>
      </div>
      <div
        class="smd-list__row"
        *dhShowForMeteringPointType="
          secondaryMasterData?.meteringPointType;
          property: 'ratedCapacity'
        "
      >
        <dt class="watt-label">
          {{ t('ratedCapacity') }}
        </dt>
        <dd class="watt-text-m">
          {{
            translationKeys?.ratedCapacityFormatted
              | transloco: { capacity: secondaryMasterData?.ratedCapacity }
              | dhEmDashFallback
          }}
        </dd>
      </div>
      <div
        class="smd-list__row"
        *dhShowForMeteringPointType="
          secondaryMasterData?.meteringPointType;
          property: 'ratedCurrent'
        "
      >
        <dt class="watt-label">
          {{ t('ratedCurrent') }}
        </dt>
        <dd class="watt-text-m">
          {{
            translationKeys?.ratedCurrentFormatted
              | transloco: { current: secondaryMasterData?.ratedCurrent }
              | dhEmDashFallback
          }}
        </dd>
      </div>
      <div
        class="smd-list__row"
        *dhShowForMeteringPointType="
          secondaryMasterData?.meteringPointType;
          property: 'powerPlantGsrnNumber'
        "
      >
        <dt class="watt-label">
          {{ t('powerPlantGsrnNumber') }}
        </dt>
        <dd class="watt-text-m">
          {{ secondaryMasterData?.powerPlantGsrnNumber | dhEmDashFallback }}
        </dd>
      </div>
      <div
        class="smd-list__row"
        *dhShowForMeteringPointType="
          secondaryMasterData?.meteringPointType;
          property: 'productType'
        "
      >
        <dt class="watt-label">
          {{ t('productId') }}
        </dt>
        <dd class="watt-text-m" data-testid="productId">
          {{ translationKeys?.productId | transloco }}
        </dd>
      </div>
      <div
        class="smd-list__row"
        *dhShowForMeteringPointType="
          secondaryMasterData?.meteringPointType;
          property: 'unitType'
        "
      >
        <dt class="watt-label">
          {{ t('unit') }}
        </dt>
        <dd class="watt-text-m" data-testid="unit">
          {{ translationKeys?.unit | transloco }}
        </dd>
      </div>
      <div
        class="smd-list__row"
        *dhShowForMeteringPointType="
          secondaryMasterData?.meteringPointType;
          property: 'effectiveDate'
        "
      >
        <dt class="watt-label">
          {{ t('effectiveDate') }}
        </dt>
        <dd class="watt-text-m">
          {{ secondaryMasterData?.effectiveDate | dhDate }}
        </dd>
      </div>
    </dl>
    <ng-container *ngIf="secondaryMasterData?.meteringPointType | dhIsParent">
      <div class="watt-text-l">
        {{ t('locationDetailTitle') }}
      </div>
      <dl>
        <div
          class="smd-list__row"
          *dhShowForMeteringPointType="
            secondaryMasterData?.meteringPointType;
            property: 'streetCode'
          "
        >
          <dt class="watt-label">
            {{ t('streetCode') }}
          </dt>
          <dd class="watt-text-m">
            {{ secondaryMasterData?.streetCode | dhEmDashFallback }}
          </dd>
        </div>
        <div
          class="smd-list__row"
          *dhShowForMeteringPointType="
            secondaryMasterData?.meteringPointType;
            property: 'municipalityCode'
          "
        >
          <dt class="watt-label">
            {{ t('municipalityCode') }}
          </dt>
          <dd class="watt-text-m">
            {{ secondaryMasterData?.municipalityCode | dhEmDashFallback }}
          </dd>
        </div>
        <div
          class="smd-list__row"
          *dhShowForMeteringPointType="
            secondaryMasterData?.meteringPointType;
            property: 'countryCode'
          "
        >
          <dt class="watt-label">
            {{ t('countryCode') }}
          </dt>
          <dd class="watt-text-m">
            {{ secondaryMasterData?.countryCode }}
          </dd>
        </div>
      </dl>
    </ng-container>
  </watt-expansion>
</ng-container>
